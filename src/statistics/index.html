<!DOCTYPE html>
<html lang="en" style="height:100%">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" href="../../favicon.ico" />
  <link rel="stylesheet" href="../../asserts/fonts/iconfont.css">
  <link rel="stylesheet" href="../../asserts/statistics.css?t=20180918125">
  <link rel="stylesheet" href="../../dist/lib/layui-v2.4.3/css/layui.css">
  <link rel="stylesheet" href="../../dist/lib/jquery.popmodal/popModal.min.css">
  <link rel="stylesheet" href="../../dist/lib/magic-check/magic-check.css">
  <link rel="stylesheet" href="../../dist/lib/jstree/dist/themes/default/style.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../../asserts/newStatistics.css">
  <link rel="stylesheet" href="../../asserts/font_ALi/iconfont.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.blockUI/2.70.0-2014.11.23/jquery.blockUI.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.1.0.rc2/echarts.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.10/lodash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.min.js"></script>
  <script src="../../dist/lib/echarts/macarons.js"></script>
  <script src="../../dist/lib/jstree/dist/jstree.min.js"></script>
  <script src="../../dist/lib/arttemplate-3.0/lib/template-web.js"></script>
  <script src="../../dist/lib/jquery.popmodal/popModal.min.js"></script>
  <script src="../../dist/lib/layui-v2.4.3/layui.js"></script>
  <title>Statistics</title>
</head>

<body class="statistics">
  <div class="nav">
    <div class="statistics__nav">
      <div class="statistics__nav--content"><span>用量分析 &gt; 区域仪表架构 &gt; </span><span class="meterName"></span><span
          class="detail"></span><span class="hidden" id="nav-alarm"><span style="color:#708195;">&gt;</span>报警中心</span></div>
    </div>
  </div>
  <div class="main">
    <div class="structtree">
      <div class="treeTitle">基础仪表架构</div>
      <div class="search">
        <input type="text" class="search__input" placeholder="输入仪表关键词" id="searchbox">
        <input type="button" class="layui-btn layui-btn-normal search__btn" value="查询">
      </div>
      <div class="tree-container">
        <div id="metertree">
          仪表结构数据加载中...
        </div>
      </div>
    </div>
    <div class="main-content">
      <div class="content-right">
        <!-- <div class="content-header-space"></div> -->
        <div class="content">
          <div class="content__header">
            <div class="content__header--title"><span></span><span></span></div>
            <div class="content__header--right">
              <div class="content__header--info" id="onshowmeterinfo"><span>展开表计详情 <i class="icon iconfont icon-xiaotuziCduan_"></i></span></div>
              <div class="content__header--btngrp">
                <div class="module-container">区域模块管理</div>
                <div class="alarm-container"><i class="icon iconfont icon-jinggao"></i> 报警中心</div>
                <div class="subscribe">+关注</div>
              </div>
            </div>
          </div>
          <div id="area-zone">
            <div class="area-no-data hidden"><span>当前区域未配置模块数据，请点击<a class="stress-info operate-hander">&nbsp;区域模块管理&nbsp;</a>进行配置</span></span></div>
            <div class="area-detail-container">
              <div class="out-condition">

                <div class="condition">
                  <div class="search-container">
                    <div class="time">时间</div>
                    <div class="area-grp">
                      <div class="area-btn-grp">
                        <div class="btn date-active" data-value="2">日</div>
                        <div class="btn" data-value="3">周</div>
                        <div class="btn" data-value="4">月</div>
                        <div class="btn" data-value="5">年</div>
                      </div>
                      <div class="area-date-grp">
                        <input type="hidden" id="area-datevalue">
                        <div class="date-component icon iconfont icon-rili" id="area-day">
                          <input type="text" id="area-daycontainer" class="date-input">
                        </div>
                        <div class="date-component icon iconfont icon-rili hidden" id="area-month">
                          <input type="text" id="area-monthcontainer" class="date-input">
                        </div>
                        <div class="date-component icon iconfont icon-rili hidden" id="area-year">
                          <input type="text" id="area-yearcontainer" class="date-input">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="chart-container">
                  <div class="bottom-chart1">
                    <div class="area-operate-grp">
                      <i class="icon iconfont icon-RMB-area icon-btn-RMB" data-value="rmb"></i>
                      <i class="icon iconfont should-uniq icon-icon- btn-active" data-value="bar"></i>
                      <i class="icon iconfont should-uniq icon-line-chart_icon" data-value="line"></i>
                      <i class="icon iconfont icon-Group- icon-btn-xiazai" data-value="download"></i>
                      <i class="icon iconfont icon-tooltip-outline show-tip-area icon-btn-tishi" data-value="tip"></i>
                    </div>
                    <div id="area-chart-instance" class="chart">
                      图表数据加载中...
                    </div>
                  </div>
                </div>
              </div>

              <div class="area-comparison">
                <div class="comparison-sort">
                  <div>
                    <!-- <i class="icon iconfont icon-heguipaiming"></i> -->
                    <span>分项排名</span>
                    <div class="op-grp">
                      <input type="button" class="btn op-btn-active" data-id="usage" value="用量">
                      <input type="button" class="btn" data-id="cost" value="费用">
                    </div>
                  </div>
                  <div class="area-sort-list"></div>
                </div>
                <div class="comparison-proportion">
                  <div>
                    <!-- <i class="icon iconfont icon-tongji"></i> -->
                    <span>分项占比</span>
                    <div class="proportion-grp">
                      <div>
                        <div class="op-btn">操作<i class="icon iconfont icon-xiaotuziCduan_"></i></div>
                        <div class="parameter-overlay hidden close">
                          <div class="triangle-overlay-border"></div>
                          <div class="triangle-overlay"></div>
                          <ul>
                            <li style="cursor:not-allowed"><i class="icon iconfont icon-Group-"></i>导出数据</li>
                            <li style="cursor:not-allowed"><i class="icon iconfont icon-delete1"></i>删除</li>
                            <li style="cursor:not-allowed"><i class="icon iconfont icon-jinzhi"></i>禁止</li>
                          </ul>
                          <div class="manage-box" style="cursor:not-allowed">管理</div>
                        </div>
                      </div>
                      <i class="icon iconfont icon-RMB comparison-rmb"></i>
                      <i class="icon iconfont icon-zuidahua area-pie"></i>
                    </div>
                  </div>
                  <div class="proportion-chart-container">
                    <div class="proportion-chart-instance" id="proportion-chart-instance"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="meter-zone" class="hidden">
            <div class="meter-info-container hidden close">
              <table class="info-table"></table>
            </div>
            <div class="detail-container">
              <div class="condition condition-detail">
                <div class="parameter-overlay hidden close">
                  <div class="triangle-overlay-border"></div>
                  <div class="triangle-overlay"></div>
                </div>
                <div class="out-parameter">
                  <!-- 左半部分 -->
                  <div class="parameter-container">
                    <div class="top-chart">
                      <!-- 时间 -->
                      <div class="search-container-detail">
                        <div class="time">时间</div>
                        <div class="area-grp">
                          <div class="btn-grp">
                            <div class="btn date-active" data-value="2">日</div>
                            <div class="btn" data-value="3">周</div>
                            <div class="btn" data-value="4">月</div>
                            <div class="btn" data-value="5">年</div>
                          </div>
                          <div class="date-grp">
                            <input type="hidden" id="datevalue">
                            <div class="date-component icon iconfont icon-rili" id="day">
                              <input type="text" id="daycontainer" class="date-input">
                            </div>
                            <div class="date-component icon iconfont icon-rili hidden" id="month">
                              <input type="text" id="monthcontainer" class="date-input">
                            </div>
                            <div class="date-component icon iconfont icon-rili hidden" id="year">
                              <input type="text" id="yearcontainer" class="date-input">
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- 表参数 -->
                      <div class="parameter">
                        <div class="parameter-left">
                          <div class="param-title">当前表参数</div>
                          <div id="onshowmoreparameter" class="param-choose hidden close">更多参数<i class="icon iconfont icon-xiaotuziCduan_"></i></div>
                        </div>
                        <div class="parameter-right"></div>
                      </div>
                    </div>

                    <!-- echart和图标 -->
                    <div class="bottom-chart">
                      <div class="operate-grp">
                        <div class="on-off-button">
                          <input type="checkbox" name="button" id="button">
                          <label for="button" class="blue"></label>
                        </div>
                        <i class="icon iconfont icon-RMB icon-btn-RMB" data-value="rmb"></i>
                        <i class="icon iconfont should-uniq icon-icon- btn-active" id="bar" data-value="bar"></i>
                        <i class="icon iconfont should-uniq icon-line-chart_icon" data-value="line"></i>
                        <i class="icon iconfont should-uniq icon-tubiao-bingtu icon-btn-bingtu hidden" id="pie"
                          data-value="pie"></i>
                        <i class="icon iconfont icon-Group- icon-btn-xiazai" data-value="download"></i>
                        <i class="icon iconfont icon-tooltip-outline show-tip icon-btn-tishi" data-value="tip"></i>
                      </div>
                      <div id="chart-instance" class="chart"></div>
                    </div>
                  </div>
                  <!-- 右半部分 -->
                  <div class="chart-container1">
                    <!-- 对比表 -->
                    <div class="comparsion">
                      <div class="comparsion-left">
                        <div class="meter-title">当前对比表</div>
                        <div class="meter-choose">+增加对比</div>
                      </div>
                      <div class="comparsion-right"></div>
                    </div>
                    <!-- 同期对比数据 -->
                    <div class="summary-container" id="summary-container"></div>
                    <div class="vmeter-summary hidden" id="vmeter-summary">
                      <div class="vmeter" id="vmeter-content"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="func-tab hidden">
          <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
            <ul class="layui-tab-title">
              <li class="layui-this" data-id="graph-data">图形数据</li>
              <li data-id="original-data">表底数</li>
              <li data-id="peak-data" id="fgp-tab">峰谷平统计</li>
            </ul>
            <div class="layui-tab-content">
              <div id="graph-data" class="graph-data">
                <!-- <div class="total_Num">
                  <span>总用量</span><span class="total_Num"></span><span class="total_Unit"></span>
                </div> -->
                <div class="exception-manager" data-toggle='close' style="display: none"><span>异常数据管理<i class="icon iconfont icon-xiaotuziCduan_"></i></span></div>
                <div class="exception-box" style="display: none">
                  <div class="exception-condition">
                    <div>
                      <span>过滤时间</span>
                      <input type="hidden" id="exception-datevalue" value>
                      <div class="date-component icon iconfont icon-rili exception-date" id="exception-day">
                        <input type="text" id="exception-daycontainer" class="date-input">
                      </div>
                      <span>大于数值</span>
                      <input type="text" class="exception-input" id="min-val-input">
                      <span>小于数值</span>
                      <input type="text" class="exception-input" id="max-val-input">
                    </div>
                    <div class="exception-rule"><span>过滤规则：</span>
                      <div class="exception-rule-value"><span id="minval">--</span>&nbsp;&lt;&nbsp;<span>正常数据</span>&nbsp;&lt;&nbsp;<span
                          id="maxval">--</span></div>
                    </div>
                  </div>
                  <div class="exception-operate">
                    <div>
                      <input type="button" class="btn exception-btn" value="过滤数据" id="exception-filter">
                      <input type="button" class="btn exception-btn" value="撤销过滤" id="exception-unfilter">
                    </div>
                    <div>
                      <input type="button" class="btn exception-btn" value="设为过滤规则" id="exception-filter-rule">
                      <input type="button" class="btn exception-btn" value="异常数据统计" id="exception-open-history">
                    </div>
                  </div>
                </div>
                <div class="graph-data-container">
                  <div class="param-position">
                    <div class="list-body hidden"></div>
                  </div>
                  <div class="choose-param-list">
                    <div class="list-header"><span>参数</span></div>
                    <div class="list-body" id="list-body"></div>
                  </div>
                  <div class="graph-data-list">
                    <table class="graph-table" id="graph-table"></table>
                  </div>
                </div>
              </div>
              <div id="original-data" class="original-data hidden">
                <table class="original-table">
                  <thead>
                    <th>参数名称</th>
                    <th>单位</th>
                    <th>采集频率</th>
                    <th>读数因子</th>
                    <th>采集时间</th>
                    <th>采集值</th>
                    <th>&nbsp;</th>
                  </thead>
                  <tbody id="original-table-body">
                </table>
              </div>
              <div id="peak-data" class="peak-data">
                <div class="btn-group">
                  <div class="btn date-active" data-value="2">日</div>
                  <div class="btn" data-value="3">周</div>
                  <div class="btn" data-value="4">月</div>
                </div>
                <div class="meter-fgp-date-grp">
                  <input type="hidden" id="meter-fgp-datevalue">
                  <div class="date-component icon iconfont icon-rili" id="meter-fgp-day">
                    <input type="text" id="meter-fgp-daycontainer" class="date-input">
                  </div>
                  <div class="date-component icon iconfont icon-rili hidden" id="meter-fgp-month">
                    <input type="text" id="meter-fgp-monthcontainer" class="date-input">
                  </div>
                </div>
                <div class="fgp-container" id="meter-fgp">
                  <div class="fgp-item">
                    <span class="icon iconfont icon-renwutongjibaobiao">总用量统计图</span>
                    <div class="fgp-item-row">
                      <div class="fgp-usage-chart-instance">
                        <span class="meter-usage-title hidden" id="meter-usage-title">总用量</span>
                        <div class="meter-usage-title-container hidden"></div>
                        <div class="chart-instance" id="meter-fgp-usage-chart"></div>
                      </div>
                      <div class="fgp-item-pie">
                        <div class="fgp-usage-piechart-yes-instance" id="meter-fgp-usage-piechart-yes"></div>
                        <div class="fgp-usage-piechart-now-instance" id="meter-fgp-usage-piechart-now"></div>
                      </div>
                    </div>
                  </div>
                  <div class="fgp-item">
                    <span class="icon iconfont icon-RMB">总费用统计图</span>
                    <div class="fgp-item-row">
                      <div class="fgp-cost-chart-instance">
                        <span class="meter-cost-title hidden" id="meter-cost-title">总费用</span>
                        <div class="meter-cost-title-container hidden"></div>
                        <div class="chart-instance" id="meter-fgp-cost-chart"></div>
                      </div>
                      <div class="fgp-item-pie">
                        <div class="fgp-cost-piechart-yes-instance" id="meter-fgp-cost-piechart-yes"></div>
                        <div class="fgp-cost-piechart-now-instance" id="meter-fgp-cost-piechart-now"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="comparison-tab hidden">
          <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
            <ul class="layui-tab-title">
              <li class="layui-this" data-id="comparison-data" style="color: #000 !important">参数详情对比</li>
            </ul>
            <div class="layui-tab-content">
              <div id="comparison-data" class="comparison-data">
                <table class="comparison-table">
                  <thead>
                    <th>仪表名称</th>
                    <th class="no-show-in">日总量</th>
                    <th class="no-show-in">同期对比</th>
                    <th>同期平均</th>
                    <th>平均</th>
                    <th>最大</th>
                    <th>最小</th>
                    <th>报警上限</th>
                    <th>报警下限</th>
                  </thead>
                  <tbody id="comparison-table-body">
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="area-fgp hidden">
          <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
            <ul class="layui-tab-title">
              <li class="layui-this" data-id="area-fgp-data">峰谷平统计</li>
            </ul>
            <div class="layui-tab-content">
              <div id="area-fgp-data" class="area-fgp-data">
                <div class="btn-group">
                  <div class="btn date-active" data-value="2">日</div>
                  <div class="btn" data-value="3">周</div>
                  <div class="btn" data-value="4">月</div>
                </div>
                <div class="area-fgp-date-grp">
                  <input type="hidden" id="area-fgp-datevalue">
                  <div class="date-component icon iconfont icon-rili" id="area-fgp-day">
                    <input type="text" id="area-fgp-daycontainer" class="date-input">
                  </div>
                  <div class="date-component icon iconfont icon-rili hidden" id="area-fgp-month">
                    <input type="text" id="area-fgp-monthcontainer" class="date-input">
                  </div>
                </div>
                <div class="fgp-container">
                  <div class="fgp-item">
                    <span class="icon iconfont icon-renwutongjibaobiao">总用量统计图</span>
                    <div class="fgp-item-row">
                      <div class="fgp-usage-chart-instance">
                        <span class="usage-title hidden" id="usage-title">总用量</span>
                        <div class="usage-title-container hidden"></div>
                        <div class="chart-instance" id="fgp-usage-chart-instance"></div>
                      </div>
                      <div class="fgp-item-pie">
                        <div class="fgp-usage-piechart-yes-instance" id="fgp-usage-piechart-yes-instance"></div>
                        <div class="fgp-usage-piechart-now-instance" id="fgp-usage-piechart-now-instance"></div>
                      </div>
                    </div>
                  </div>
                  <div class="fgp-item">
                    <span class="icon iconfont icon-RMB">总费用统计图</span>
                    <div class="fgp-item-row">
                      <div class="fgp-cost-chart-instance">
                        <span class="cost-title hidden" id="cost-title">总费用</span>
                        <div class="cost-title-container hidden"></div>
                        <div class="chart-instance" id="fgp-cost-chart-instance"></div>
                      </div>
                      <div class="fgp-item-pie">
                        <div class="fgp-cost-piechart-yes-instance" id="fgp-cost-piechart-yes-instance"></div>
                        <div class="fgp-cost-piechart-now-instance" id="fgp-cost-piechart-now-instance"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="content-footer hidden"></div> -->
    </div>
    <div class="alarm-content hidden">
      <div class="alarm-content-right">
        <div class="alarm-header">
          <div class="icon iconfont icon-back navigate-back">
            <span>返回</span>
            <div class="alarm-titile"><span id="item-name"></span><span id="alarm-title-name"></span><span class="area__meter"></span></div>
          </div>
        </div>
        <div class="alarm-info">
          <div class="meter-alarm-info hidden"></div>
          <div class="area-alarm-info"></div>
          <div class="exception-operate-box">
            <input type="button" id="area-alarm" class="btn exception-operate-btn" value="解除报警">
            <input type="button" id="shield-device" class="btn exception-operate-btn" value="屏蔽设备">
          </div>
          <div class="meter-operate-box hidden">
            <input type="button" id="meter-alarm" class="btn exception-operate-btn change-gray" value="解除报警">
            <input type="button" id="meter-shield-device" class="btn exception-operate-btn" value="屏蔽设备">
            <input type="button" id="meter-stop-alarm" class="btn exception-operate-btn" value="解除屏蔽">
            <input type="button" id="shutdown-power" class="btn exception-operate-btn" value="关闭电源">
          </div>
          <div class="clear"></div>
        </div>
        <div class="alarm-setter hidden">
          <div class="setter-header"><span id="alarm-setting" class="header-title icon iconfont">报警设置</span></div>
          <div class="setter-content">
            <div class="left-blank"></div>
            <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
              <ul class="layui-tab-title">
                <li class="layui-this" data-id="alarm-condition-list" style="font-size: 14px !important; font-weight: normal; padding-left: 0">报警条件列表</li>
                <li data-id="alarm-condition-tpl" style="font-size: 14px !important; font-weight: normal">报警条件模板</li>
              </ul>
              <div class="layui-tab-content">
                <div id="alarm-condition-list" class="alarm-condition-list">
                  <table>
                    <thead>
                      <tr>
                        <th>报警名称</th>
                        <th>参数类型</th>
                        <th>报警类型</th>
                        <th>预警值</th>
                        <th>报警值</th>
                        <th>生效时间</th>
                        <th>重复</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody class="alarm-condition">
                      <tr class="alaram-condition-norecord">
                        <td colspan="8" class="norecord-cell">未设置报警条件，点击右上方按钮添加</td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="paging-device" id="paging-alarm-condition"></div>
                  <div class="clear"></div>
                </div>
                <div id="alarm-condition-tpl" class="alarm-condition-tpl hidden">
                  <div class="tpl-list"></div>
                  <table>
                    <thead>
                      <tr>
                        <th>报警名称</th>
                        <th>参数类型</th>
                        <th>报警类型</th>
                        <th>预警值</th>
                        <th>报警值</th>
                        <th>生效时间</th>
                        <th>重复</th>
                        <th>操作</th>
                      </tr>
                    </thead>
                    <tbody class="alarm-tpl">
                      <tr class="alarm-tpl-norecord">
                        <td colspan="8" class="norecord-cell">未设置报警条件模板，请在报警条件列表中添加模板</td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="paging-device" id="paging-alarm-tpl"></div>
                  <div class="clear"></div>
                </div>
              </div>
            </div>
            <div class="right-blank"></div>
            <div class="alarm-btn-grp">
              <input type="button" class="btn btn-alarm-condition" value="+ 添加报警条件">
            </div>
          </div>
        </div>
        <div class="alarm-list">
          <div class="meter-alarm-event hidden">
            <div class="event-header">
              <div>当前报警事件<span class="exception-title alarm-meter-count" id="meter-alarm-count">0</span></div>
              <div class="meter-alarm-filter">
                <div class="opt chk" data-id="sa">
                  <input class="magic-checkbox" id="meter-alarm-all" type="checkbox" value='4'>
                  <label class="check-box all-checkbox"></label>
                  <span class="all-span">全部</span>
                </div>
                <div class="opt chk" data-id="ofl">
                  <input class="magic-checkbox" type="checkbox" value='2'>
                  <label class="check-box offline-checkbox"></label>
                  <span class="offline-span">离线</span>
                </div>
                <div class="opt chk" data-id="yj">
                  <input class="magic-checkbox" type="checkbox" value='0'>
                  <label class="check-box warn-checkbox"></label>
                  <span class="warn-span">预警</span>
                </div>
                <div class="opt chk" data-id="bj">
                  <input class="magic-checkbox" type="checkbox" value='1'>
                  <label class="check-box alarm-checkbox"></label>
                  <span class="alarm-span">报警</span>
                </div>
              </div>
              <div class="meter-alarm-history">
                <input type="button" class="btn btn-history" value="历史报警">
              </div>
            </div>
            <div class="event-list">
              <table>
                <thead>
                  <tr>
                    <th>报警名称</th>
                    <th>发生时间</th>
                    <th>采集值</th>
                    <th>超限量</th>
                    <th>报警类型</th>
                    <th>预警值</th>
                    <th>报警值</th>
                  </tr>
                </thead>
                <tbody id="meter-alarm-list">
                  <tr class="">
                    <td colspan="8" class="norecord-cell">设备当前运行正常，无报警</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="paging-meter" id="paging-meter"></div>
            <div class="clear"></div>
          </div>
          <div class="area-alarm-device-list">
            <div class="device-header">
              <div>当前报警设备<span class="exception-title alarm-device-count">0</span></div>
              <div class="alarm-device-filter">
                <div class="opt chk" data-id="sa">
                  <input class="magic-checkbox" id="alarm-all" type="checkbox" value='4'>
                  <label class="check-box all-checkbox"></label>
                  <span class="all-span">全部</span>
                </div>
                <div class="opt chk" data-id="ofl">
                  <input class="magic-checkbox" type="checkbox" value='2'>
                  <label class="check-box offline-checkbox"></label>
                  <span class="offline-span">离线</span>
                </div>
                <div class="opt chk" data-id="yj">
                  <input class="magic-checkbox" type="checkbox" value='0'>
                  <label class="check-box warn-checkbox"></label>
                  <span class="warn-span">预警</span>
                </div>
                <div class="opt chk" data-id="bj">
                  <input class="magic-checkbox" type="checkbox" value='1'>
                  <label class="check-box alarm-checkbox"></label>
                  <span class="alarm-span">报警</span>
                </div>
              </div>
            </div>
            <div class="device-list">
              <table>
                <thead>
                  <tr>
                    <th style="width: 50px">
                      <div class="opt">
                        <input class="magic-checkbox" type="checkbox" id="select-all">
                        <label for="select-all" class="select-all"></label>
                      </div>
                    </th>
                    <th>设备名称</th>
                    <th>报警数</th>
                    <th>最后报警发生时间</th>
                    <th>最后报警名称</th>
                    <th>参数类型</th>
                    <th>采集值</th>
                    <th>超限量</th>
                    <th>报警类型</th>
                    <th>预警值</th>
                    <th>报警值</th>
                    <th>操作</th>
                  </tr>
                </thead>
                <tbody id="device-alarm-list">
                  <tr>
                    <td colspan="12" class="norecord-cell">设备当前运行正常，无报警</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="paging-device" id="paging-device"></div>
            <div class="clear"></div>
          </div>
        </div>
      </div>
      <div class="alarm-footer hidden"></div>
    </div>
  </div>
  <div id="dialog_content" style="display:none">
    <div class="dialogModal_header modal_header">区域模块管理</div>
    <div class="dialogModal_content">
      <div class="layui-tab layui-tab-brief configuration-container" lay-filter="docDemoTabBrief">
        <div class="header-left"></div>
        <div class="header-right"></div>
        <ul class="layui-tab-title configure-header">
          <li class="configure-func layui-this" data-id="configure-func"><span class="step-num finish">1</span>功能配置</li>
          <li class="binding-data" data-id="binding-data"><span class="step-num">2</span>数据绑定</li>
        </ul>
        <div class="layui-tab-content module-content">
          <div class="page-configure-func">
            <div class="func-list">
              <div data-id="module-data" data-key="_AreaStatistics" data-value="区域统计">区域数据详情
                <div class="opt">
                  <input id="module-data" class="magic-checkbox" type="checkbox">
                  <label class="check-box"></label>
                </div>
              </div>
              <div data-id="peak-summary" data-key="_AreaFgpStatistics" data-value="峰谷平统计">峰谷平统计
                <div class="opt">
                  <input id="peak-summary" class="magic-checkbox" type="checkbox">
                  <label class="check-box"></label>
                </div>
              </div>
            </div>
            <div class="usage-header">
              <div><span>应用于</span></div>
              <div class="usage-select">
                <i class="icon iconfont icon-xiaotuziCduan_ dropdown"></i>
                <select id="select-usage" name="interest" class="beauty-select" lay-filter="aihao">
                  <option value="0">当前区域</option>
                  <option value="1" selected>所有区域</option>
                </select>
              </div>
            </div>
          </div>
          <div class="page-binding-data hidden">
            <div class="binding-data-content">
              <div class="meter-tree"></div>
              <div class="selected-meter-list">
                <div class="top-placeholder"></div>
                <div class="meter-list"></div>
                <div class="bottom-placeholder"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="dialogModal_footer">
      <button type="button" class="save-btn" data-dialogModalBut="ok">保存</button>
      <button type="button" class="cancel-btn" data-dialogModalBut="cancel">取消</button>
    </div>
  </div>
  <div id="choose-meter-for-comparison" class="comparison-body" style="display: none;">
    <div class="dialogModal_header modal_header">选择对比仪表</div>
    <div class='hint-info'>[注]在选择对比仪表时，被对比的仪表颜色为灰色为不可选状态，请与离线仪表区别</div>
    <div class="clear"></div>
    <div class="dialogModal_content meter-comparison-content">
      <div class="choose-meter-list"></div>
    </div>
    <div class="dialogModal_footer">
      <button type="button" class="save-btn" data-dialogModalBut="ok">确定</button>
      <button type="button" class="cancel-btn" data-dialogModalBut="cancel">取消</button>
    </div>
  </div>
  <div id="original-history-data" style="display: none;">
    <div class="dialogModal_header modal_header" id="history-header">参数历史读数</div>
    <div class="dialogModal_content history-content">
      <div class="history-data-list">
        <table>
          <thead>
            <th>数据采集时间</th>
            <th>数据上传至平台时间</th>
            <th id="lastUnit">读数</th>
          </thead>
          <tbody class="history-data-list-body"></tbody>
        </table>
      </div>
    </div>
  </div>
  <div id="exception-history-data" style="display: none;">
    <div class="dialogModal_header modal_header" id="exception-header">异常数据统计<span style="margin-left: 30px; color: rgb(250, 78, 47)"
        id="totalSize">0</span></div>
    <div class="dialogModal_content exception-content">
      <div class="exception-data-list">
        <table>
          <thead>
            <th>数据采集时间</th>
            <th id="lastUnit">读数</th>
          </thead>
          <tbody class="exception-data-list-body"></tbody>
        </table>
      </div>
      <div class="page-item">
        <div id="page-container" class="page-container">
          <input type="button" id="pre-btn" class="btn page-btn disable-btn" value="上一页">
          <span class="currentPage">1</span>/
          <span class="totalPage">3</span>
          <input type="button" id="next-btn" class="btn page-btn" value="下一页">
        </div>
      </div>
    </div>
  </div>
  <div id="area-alarm-modal" style="display: none;">
    <div class="dialogModal_header modal_header">解除报警</div>
    <div class="dialogModal_content area-alarm-content">
      <div class="">
        <div class="radio-grp">
          <div class="opt">
            <input class="magic-radio" type="radio" id="r1" value="0">
            <label for="r1">常规设置报警</label>
          </div>
          <div class="opt">
            <input class="magic-radio" type="radio" id="r2" value="1">
            <label for="r2">设备故障</label>
          </div>
          <div class="opt">
            <input class="magic-radio" type="radio" id="r3" value="2">
            <label for="r3">人为原因</label>
          </div>
        </div>
        <div>
          <div class="opt other-reason">
            <input class="magic-radio" type="radio" id="other-reason" value="3">
            <label for="other-reason">其他原因（选填）</label>
          </div>
          <div style="position: relative">
            <textarea class="area-alarm-modal-textarea" readonly></textarea>
            <span class="len-limit">0/30</span>
          </div>
        </div>
      </div>
    </div>
    <div class="dialogModal_footer">
      <button type="button" class="save-btn" data-dialogModalBut="ok">确定</button>
      <button type="button" class="cancel-btn" data-dialogModalBut="cancel">取消</button>
    </div>
  </div>
  <div id="rmove-shield-modal" style="display:none">
    <div class="dialogModal_content device-shield-content">
      <div style='margin:50px 20px;'>
        <div class="radio-grp" style='margin-bottom: 30px'>
          <div class="opt">
            <label>确定是否解除设备的屏蔽？</label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="set-shield-modal" style="display: none;">
    <div class="dialogModal_content device-shield-content">
      <div style='margin: 30px;'>
        <div class="radio-grp" style='margin-bottom: 30px'>
          <div class="opt">
            <input class="magic-radio" type="radio" id="shield" value="1">
            <label for="shield">屏蔽</label>
          </div>
        </div>
        <div class style="position: relative">
          <div class="opt">
            <input class="magic-radio" type="radio" id="shield-time" value="2">
            <label for="shield-time">时间段屏蔽</label>
          </div>
          <div class="date-component icon iconfont icon-rili sheild-time-container">
            <input type="text" id="sheild-time-container" class="date-input" style="width: 320px">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="delete-confirm-modal" style="display: none;">
    <div class="dialogModal_header modal_header">删除确认</div>
    <div class="dialogModal_content device-shield-content">
      确认是否删除这个报警模板？
    </div>
    <div class="dialogModal_footer">
      <button type="button" class="save-btn" data-dialogModalBut="ok">确定</button>
      <button type="button" class="cancel-btn" data-dialogModalBut="cancel">取消</button>
    </div>
  </div>
  <div id="meter-alarm-history-modal" style="display: none;">
    <div class="meter-history-header">报警历史事件<span class="exception-title alarm-meter-count" id="meterHistory">0</span>
      <div class="history-header">
        <div class="date-component icon iconfont icon-rili" style='background-color: #fff;font-size:14px;font-weight:normal'>
          <input type="text" id="meter-history-daycontainer" class="date-input">
        </div>
        <div class="history-filter">
          <div class="opt chk" data-id="sa">
            <input class="magic-checkbox" type="checkbox" id="history-all" value='4'>
            <label class="check-box all-checkbox"></label>
            <span class="all-span" style='position: absolute;top: -5px;left: -280px;font-weight: normal'>全部</span>
          </div>
          <div class="opt chk" data-id="ofl">
            <input class="magic-checkbox" type="checkbox" value='2'>
            <label class="check-box offline-checkbox"></label>
            <span class="offline-span" style='position: absolute;top: -5px;left: -210px;font-weight: normal'>离线</span>
          </div>
          <div class="opt chk" data-id="yj">
            <input class="magic-checkbox" type="checkbox" value='0'>
            <label class="check-box warn-checkbox"></label>
            <span class="warn-span" style='position: absolute;top: -5px;left: -140px;font-weight: normal'>预警</span>
          </div>
          <div class="opt chk" data-id="bj">
            <input class="magic-checkbox" type="checkbox" value='1'>
            <label class="check-box alarm-checkbox"></label>
            <span class="alarm-span" style='position: absolute;top: -5px;left: -70px; width: 50px;font-weight: normal'>报警</span>
          </div>
        </div>
      </div>
    </div>
    <div class="dialogModal_content meter-alarm-history-content">
      <div class="meter-history-list">
        <table>
          <thead>
            <tr>
              <th>报警名称</th>
              <th>发生时间</th>
              <th>参数类型</th>
              <th>采集值</th>
              <th>超限量</th>
              <th>报警类型</th>
              <th>预警值</th>
              <th>报警值</th>
              <th>处理方式</th>
              <th>处理时间</th>
              <th>处理人</th>
              <th>处理记录</th>
            </tr>
          </thead>
          <tbody class="meter-history-modal">
            <tr>
              <td colspan="12" class="norecord-cell">当前时间段设备运行正常，没有报警记录</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="history-paging" id="history-paging"></div>
      <div class="clear"></div>
    </div>
  </div>
  <div class="hidden" id="abnormal-data-model" style="display: none;">
    <div class='abnormal-header'>异常数据分摊</div>
    <div class='abnormal-total-data'>
      <ul>
        <li>异常数据量: <span class="abnormal-total"></span></li>
        <li>可分摊数据量: <span class="apportion"></span></li>
        <li>数据中断区间：<span class="abnormal-start-time"></span> 至 <span class="abnormal-end-time"></span> </li>
        <li><button class="form-reset">清空数据</button></li>
        <li><button class="to-everyday">平均到每天</button></li>
        <li><button class="to-everyhour">平均到小时</button></li>
      </ul>
    </div>
    <form action="" method="get" class="expForm">
      <table class="abnormal-data"></table>
    </form>
    <div class="exception-paging" id="exception-paging"></div>
    <div class="clear"></div>
  </div>
</body>
<script src="../../dist/lib/jquery.namespace.js" type="text/javascript"></script>
<script src="../../dist/lib/esdpec.common.js" type="text/javascript"></script>
<script src="../../dist/statistics.domain.js" type="text/javascript"></script>


<script type="text/html" id="meter-info-template">
  <tr>
    <td>区域名称：{{data.area}}</td>
    <td>仪表地址：{{data.address}}</td>
    <td>数据类型：{{data.energy_name}}</td>
  </tr>
  <tr>
    <td>仪表型号：{{data.metermodel_name}}</td>
    <td>串口：{{data.port_name}}</td>
    <td>信号连接：{{data.status}}</td>
  </tr>
</script>
<!-- para-active -->
<script type="text/html" id="parameter-list-template">
  {{if parameterList.length > 0 }}{{each parameterList parameter index}}
    <div class="para-item choose-para {{if parameter.isChecked}}para-active{{/if}}" data-id="{{parameter.id}}" 
      data-type="{{parameter.type}}" data-unit="{{parameter.unit}}">{{parameter.displayName}}</div>
  {{/each}}{{/if}}
</script>
<script type="text/html" id="contemporary-Comparison-template">
  <div class="summary-header">
      <div class="dosage-value">
        <span>{{data.title}}</span>
        <span>对比同期平均</span>
      </div>
      <div class="average-value">
        <span class="icon iconfont {{if data.sum_per>0}}icon-negative{{else}}icon-positive{{/if}}">{{data.sum_per}}%</span>
        <span class="icon iconfont {{if data.avg_per>0}}icon-negative{{else}}icon-positive{{/if}}">{{data.avg_per}}%</span>
      </div>
    </div>
    <div class="progress-container">
      <div>
        <div style="width:{{data.now_sum_width}}">
          <!--remark: Set the maximum to 98%, then divide by the maximum and multiply by 98% -->
          <div class="usage-value-progress">
            <div class="progress-title" id="now_sum_val" style="left: calc(100% - 10px);"><span>{{data.firstTitle}}用量</span><span>{{data.now_sum_val}}{{data.unit}}</span></div>
          </div>
        </div>
      </div>
        <div>
        <div style="width: {{data.last_sum_width}}">
          <div class="usage-value-progress same-time-value">
            <div class="progress-title" id="last_sum_val" style="left: calc(100% - 10px);"><span>{{data.lastTitle}}同期</span><span>{{data.last_sum_val}}{{data.unit}}</span></div>
          </div>
        </div>
      </div>
      <div>
        <div style="width: {{data.avg_val_width}}">
            <div class="usage-value-progress average-comparsion-value">
              <div class="progress-title" id="avg_val" style="left: calc(100% - 10px);"><span>同期平均值</span><span>{{data.avg_val}}{{data.unit}}</span></div>
            </div>
        </div>
      </div>
    </div>
</script>
<script type="text/html" id="list-body-template">
  {{if selectedParameterList.length > 0}}{{each selectedParameterList param index}}
    <div class="choose-param-item {{if param.isDefault}}param-item-active{{/if}}" data-id="{{param.id}}">
      <span>{{param.name}}</span>
      {{if param.type === 0}}
      <span>总用量:</span>
      <span class="now_Sum"></span><span>{{param.unit}}</span>
      {{/if}}
    </div>
  {{/each}}{{/if}}
</script>
<script type="text/html" id="graph-table-template">
  <thead>
    <th>采集时间</th>
    <th class="valtd ">{{data.type === 0 ? '用量': '读数'}}({{data.unit}})</th>
    <th class="inException" style="text-align: center;">是否显示</th>
  </thead>
  <tbody>
    {{if data.graphDataList.length > 0}}
    {{each data.graphDataList graphData index}}
    <tr class="{{graphData.isChecked?'':'shouldremove'}}">
      <td>{{graphData.date}}</td>
      <td class="valtd ">{{graphData.val}}</td>
      <td class="inException" style="text-align: center;">
        <div class="switch-box" data-control="BOX" id="Box_points_switch">
          <label>
            {{if graphData.isChecked}}
            <input class="mui-switch mui-switch-anim exception-switch" checked type="checkbox" data-date="{{graphData.date}}" data-id="{{data.mfid}}">
            {{else}}
            <input class="mui-switch mui-switch-anim exception-switch" type="checkbox" data-date="{{graphData.date}}" data-id="{{data.mfid}}">
            {{/if}}
          </label>
        </div>
      </td>
    </tr>
    {{/each}}
    {{/if}}
  </tbody>
</script>
<script type="text/html" id="selected-meter-list-template">
  {{if selectedMeterList.length > 0}}{{each selectedMeterList meter index}}
  <div class='select-meter-item'>
    <span>{{meter.text}}</span>
    <input type='button' value='删除' data-id='{{meter.id}}'>
  </div>
  {{/each}}
  {{/if}}
</script>
<script type="text/html" id="comparsion-right-template">
  {{if comparisonMeterList.length > 0}}{{each comparisonMeterList meter index}}
  <div class="choose-meter meter-item" id="com_{{meter.id}}">{{meter.text}}<i class="icon iconfont icon-delete remove-btn" data-id="{{meter.id}}"></i></div>
  {{/each}}{{/if}}
</script>
<script type="text/html" id="original-table-body-template">
  {{if parameterList.length > 0}}{{each parameterList param index}}
  <tr data-id='{{param.mfid}}'>
    <td>{{param.name}}</td>
    <td>{{param.unit}}</td>
    <td>{{param.interval}}S</td>
    <td>{{param.factor}}</td>
    <td>{{param.lastDate}}</td>
    <td>{{param.lastVal}}</td>
    <td data-id='{{param.mfid}}'>详情</td>
  </tr>
  {{/each}}{{/if}}
</script>
<script type="text/html" id="history-data-list-body-template">
  {{if historyList.length > 0}}{{each historyList data index}}
  <tr>
    <td>{{data.Mt}}</td>
    <td>{{data.ST}}</td>
    <td>{{data.Mv}}</td>
  </tr>
  {{/each}}{{/if}}
</script>
<script type="text/html" id="comparison-table-body-template">
  {{if comparisonList.length > 0}}{{each comparisonList data index}}
  <tr>
    <td>{{data.meter_name}}</td>
    {{if type == 0}}<td>{{data.sum_val}}</td>
    <td class="{{data.sum_per>0?'positive-value':'negative-value'}}">{{data.sum_per>0?'+':''}}{{data.sum_per}}%</td>{{/if}}
    <td>{{data.all_avg_val}}</td>
    <td>{{data.avg_val}}</td>
    <td>{{data.max_val}}</td>
    <td>{{data.min_val}}</td>
    <td>{{data.upper_limit}}</td>
    <td>{{data.lower_limit}}</td>
  </tr>
  {{/each}}{{/if}}
</script>
<script type="text/html" id="area-sort-list-template">
  {{if areaMeterList.length > 0}}{{each areaMeterList areaMeter index}}
  <div class="area-sort-item">
    <div class="area-sort-no" style="color:{{areaMeter.color}};border-color:{{areaMeter.color}}">{{index + 1}}</div>
    <div class="area-sort-content">
      <div class="meter-name">{{areaMeter.name}}</div>
      <div class="meter-value">{{areaMeter.value}}{{areaMeter.unit}}</div>
      <div class="area-progress">
        <div class="area-progress-container">
          <div class="area-progress-value" style="background-color:{{areaMeter.color}}; width:{{areaMeter.percent}}%"></div>
        </div>
        <span class="meter-percent">{{areaMeter.percent}}%</span>
      </div>
    </div>
  </div>
  {{/each}}{{/if}}
</script>
<script type="text/html" id="exception-data-list-body-template">
  {{if historyDatas.length > 0}}{{each historyDatas data index}}
  <tr>
    <td>{{data.time}}</td>
    <td>{{data.val}}</td>
  </tr>
  {{/each}}{{/if}}
</script>
<script type="text/html" id="area-exception-info-template">
  <table>
    <tbody>
      <tr>
        <td>总表数：{{data.AllMeterCount}} 个</td>
        <td>离线仪表：<span class="exception-title">{{data.OffLineMeterCount}}</span>&nbsp;个</td>
        <td>超限仪表：<span class="exception-title">{{data.OverRunMeterCount}}</span>&nbsp;个</td>
      </tr>
      <tr>
        <td>正常仪表：{{data.NormalMeterCount}} 个</td>
        <td>已屏蔽仪表：{{data.ShieldMeterCount}} 个</td>
        <td></td>
      </tr>
    </tbody>
  </table>
</script>
<script type="text/html" id="device-alarm-list-template">
  {{if deviceAlarmList.length > 0 }}
  {{each deviceAlarmList data index}}
  <tr>
    <td>
      <div class="opt device-chk" data-id="{{data.MeterId}}">
        {{if data.isChecked}}
        <input class="magic-checkbox" type="checkbox" checked>
        {{else}}
        <input class="magic-checkbox" type="checkbox">
        {{/if}}
        <label class="check-box">&nbsp;&nbsp;&nbsp;&nbsp;</label> 
      </div>
    </td>
    <td>{{data.MeterName}}</td>
    <td>{{data.Count}}</td>
    <td>{{data.LastAlarmTime}}</td>
    <td>{{data.AlarmName}}</td>
    <td>{{data.MfName}}</td>
    <td>{{data.CollectValue}}</td>
    <td>{{data.percent}}</td>
    <td>{{data.alarmType}}</td>
    <td>{{data.PreWarnValue}}</td>
    <td>{{data.OnWarnValue}}</td>
    <td><span class="link" data-id="{{data.MeterId}}" data-mfid="{{data.MfId}}">查看详情</span></td>
  </tr>
  {{/each}}
  {{else}}
  <tr><td colspan="12" class="norecord-cell">设备当前运行正常，无报警</td></tr>
  {{/if}}
</script>
<script type="text/html" id="meter-alarm-info-template">
  <table>
    <tbody>
      <tr>
        <td>区域名称：{{data.areaName}}</td>
        <td>仪表地址：{{data.MeterAddress}}</td>
        <td>数据类型：{{data.DataType}}</td>
      </tr>
      <tr>
        <td>仪表型号：{{data.MeterModelName}}</td>
        <td>串口：{{data.SpPortName}}</td>
        <td id='alarm-status'>仪表状态：{{data.MeterStatus}}</td>
      </tr>
    </tbody>
  </table>
</script>
<script type="text/html" id="tpl-list-template">
  {{if tplTypeList.length > 0}}{{each tplTypeList data index}}
  <div class="opt">
    <input class="magic-checkbox" type="radio" id="r_{{data.Id}}" value="{{data.Id}}">
    <label>{{data.Name}}报警模板</label>
  </div>
  {{/each}}
  {{/if}}
</script>
<script type="text/html" id="alarm-condition-template">
  {{if alarmConditionList.length > 0}}
{{each alarmConditionList data index}}
<tr id="{{data.Id}}">
  <td id="myAlarmName_{{data.Id}}" style="position:relative">{{data.AlarmName}}<span class="tempIcon_{{index}}"></span></td>
  <td id="myDataType_{{data.Id}}">{{data.Name}}</td>
  <td id="myAlarmType_{{data.Id}}">{{data.AlarmType}}</td>
  <td id="myPreValue_{{data.Id}}">{{data.PreWarnValue}}</td>
  <td id="myOnValue_{{data.Id}}">{{data.OnWarnValue}}</td>
  <td id="myValidate_{{data.Id}}" style='width: 120px'>{{data.Validate}}</td>
  <td id="myRepeatWeek_{{data.Id}}" style='width: 150px;padding: 0 20px;'>{{data.RepeatWeek}}</td>
  <td style='width: 120px;'>
    <div class="con-oper-grp">
      <div class="opt con_enable" style='display: inline-block' data-id="{{data.Id}}">
        {{if data.IsEnabled}}
        <input class="magic-checkbox" type="checkbox" id="c_{{data.Id}}" value="{{data.Id}}" checked>
        {{else}}
        <input class="magic-checkbox" type="checkbox" id="c_{{data.Id}}" value="{{data.Id}}">
        {{/if}}
        <label style='padding-left: 25px; color:#000'>启用</label>
      </div>
      <button class='condition-opt con_edit' data-id="{{data.Id}}"><i class="icon iconfont icon-edit alarm-op"></i>编辑</button>
      <button class='condition-opt con_del' data-id="{{data.Id}}"><i class="icon iconfont icon-delete1 alarm-op"></i>删除</button>
    </div>
  </td>
</tr>
{{/each}}
{{else}}
  <tr class="alaram-condition-norecord"><td colspan="8" class="norecord-cell">未设置报警条件，点击右上方按钮添加</td></tr>
{{/if}}
</script>
<script type="text/html" id="alarm-tpl-template">
  {{if alarmTplList.length > 0}}
  {{each alarmTplList data index}}
    <tr id='{{data.Id}}'>
      <td id="myAlarmName_{{data.Id}}" style="position:relative">{{data.AlarmName}}<span class="tempIcon_{{index}}"></td>
      <td id="myDataType_{{data.Id}}">{{data.Name}}</td>
      <td id="myAlarmType_{{data.Id}}">{{data.alarmType}}</td>
      <td id="myPreValue_{{data.Id}}">{{data.PreWarnValue}}</td>
      <td id="myOnValue_{{data.Id}}">{{data.OnWarnValue}}</td>
      <td id="myValidate_{{data.Id}}">{{data.validate}}</td>
      <td id="myRepeatWeek_{{data.Id}}" style='width: 200px; padding: 0 20px'>{{data.repeatChn}}</td>
      <td style="width: 150px;">
        <div class="alarm-tpl-operate">
          <div class="opt enable_" data-id="{{data.Id}}">
            {{if data.IsEnabled}}
            <input class="magic-checkbox" type="checkbox" id="c_{{data.Id}}" value="{{data.Id}}" checked>
            {{else}}
            <input class="magic-checkbox" type="checkbox" id="c_{{data.Id}}" value="{{data.Id}}">
            {{/if}}
            <label style='padding-left: 25px; color:#000'>启用</label>
          </div>
          <div class="edit_" data-id="{{data.Id}}"><i class="icon iconfont icon-edit alarm-op"></i>编辑</div>
          <div class="del_" data-id="{{data.Id}}"><i class="icon iconfont icon-delete1 alarm-op"></i>删除</div>
          <div class="rel_" data-id="{{data.Id}}"><i class="icon iconfont icon-tubiao11 alarm-op"></i>关联仪表</div>
        </div>
      </td>
    </tr>
  {{/each}}
  {{else}}
    <tr><td colspan="8" class="norecord-cell">未设置报警条件模板，请在报警条件列表中添加模板</td></tr>
  {{/if}}
</script>
<script type="text/html" id="meter-alarm-list-template">
  {{if meterAlarmList.length > 0}}
  {{each meterAlarmList data index}}
  <tr>
    <td>{{data.AlarmName}}</td>
    <td>{{data.AlarmTime}}</td>
    <td>{{data.CollectValue}}</td>
    <td>{{data.percent}}%</td>
    <td>{{data.AlarmType}}</td>
    <td>{{data.PreWarnValue}}</td>
    <td>{{data.OnWarnValue}}</td>
  </tr>
  {{/each}}
  {{else}}
  <tr>
    <td colspan="8" class="norecord-cell">设备当前运行正常，无报警</td>
  </tr>
  {{/if}}
</script>
<script type="text/html" id="new-rule-template">
  <tr id="{{ruleId}}">
  <td><input type='text' class="editable" id="name_{{ruleId}}" value="{{AlarmName}}"></td>
  <td class="fieldTd">
    {{each meterFieldTypes data index}}
    <div class="opt" >
      <input class="magic-radio" type="radio" value="{{data.Id}}" data-unit='{{data.Unit}}' data-type="{{data.MType}}">
      <label style='padding-left: 25px; color:#000'>{{data.Name}}</label>
    </div>
    {{/each}}
  </td>
  <td class="alarmTypetd">
    {{each alarmTypeValueList data index}}
    <div class="opt">
      <input class="magic-radio" type="radio" value="{{data.id}}" id="{{ruleId}}_{{data.id}}">
      <label style='padding-left: 25px; color:#000'>{{data.val}}</label>
    </div>
    {{/each}}
  </td>
  <td>
    <input type="text" class="editable" id="prewarn_{{ruleId}}" value="{{PreWarnValue}}">
  </td>
  <td>
    <input type="text" class="editable" id="warn_{{ruleId}}" value="{{OnWarnValue}}">
  </td>
  <td style='width: 120px;'>
    <input type="text" class="validate-container editable" id="validate_{{ruleId}}">
    <div class="editable hidden enable_box"></div>
  </td>
  <td class="weektd">
    {{each weekList week index}}
    <div class="opt">
      <input class="magic-checkbox" type="checkbox" value="{{week.val}}">
      <label style='padding-left: 25px; color:#000'>{{week.name}}</label>
    </div>
    {{/each}}
  </td>
  <td style="width: 120px">
    <div class="alarm-tpl-operate">
      <div class="opt" id="tpl_{{ruleId}}">
        <input class="magic-checkbox" type="checkbox" value="">
        <label style='padding-left: 25px; color:#000'>保存为模板</label>
      </div>
      <div class="opt" id="enable_{{ruleId}}">
        <input class="magic-checkbox" type="checkbox" value="">
        <label style='padding-left: 25px; color:#000'>启用</label>
      </div>
      <div style="margin-top: 15px"><input type="button" class="btn saverule" value='保存' id="ok_{{ruleId}}"></div>
      <div><input type="button" class="btn cancelrule" value='取消' id="cancel_{{ruleId}}"></div>
    </div>
  </td>
</tr>
</script>
<script type="text/html" id="meter-history-modal-template">
  {{if meterHistroyList.length > 0}}
  {{each meterHistroyList data index}}
  <tr>
    <td>{{data.AlarmName}}</td>
    <td>{{data.AlarmTime}}</td>
    <td>{{data.MfName}}</td>
    <td>{{data.CollectValue}}</td>
    <td>{{data.percent}}%</td>
    <td>{{data.AlarmType}}</td>
    <td>{{data.PreWarnValue}}</td>
    <td>{{data.OnWarnValue}}</td>
    <td>{{data.DealType}}</td>
    <td>{{data.AlarmDealTime}}</td>
    <td>{{data.AlarmDealAccount}}</td>
    <td>{{data.AlarmDealReasonDetail}}</td>
  </tr>
  {{/each}}
  {{else}}
    <tr><td colspan="12" class="norecord-cell">当前时间段设备运行正常，没有报警记录</td></tr>
  {{/if}}
</script>
<script type="text/html" id="vmeter-data-comparison">
  {{if vMeterFeatureData.length > 0}}
  {{each vMeterFeatureData feature index}}
  <div class='vmeter-item'>
    <div class='vmeter-pie' style='background-color: {{feature.bgcolor}}'>{{feature.name}}</div>
    <span class='vmeter-data'>{{feature.val}}{{feature.unit}}</span>
  </div>
  {{/each}}
  {{/if}}
</script>

<script type="text/html" id="abnormal-data-template">
  <thead>
    <tr>
      <th>日期</th>
      <th>分配数量</th>
      <th colspan="12">时间</th>
      <th></th>
    </tr>
  </thead>
  <tbody id='excption-tb'>
    {{if dayList}}
    <tr></tr>
      {{each dayList value}}
      <tr class='time-hour1'>
        <td rowspan='4'>{{value}}</td>
        <td rowspan='3'><input type="number" class='apportion-num' name="" id="" onmousewheel="return false;"></td>
        <td class='hour'>1时</td>
        <td class='hour'>2时</td>
        <td class='hour'>3时</td>
        <td class='hour'>4时</td>
        <td class='hour'>5时</td>
        <td class='hour'>6时</td>
        <td class='hour'>7时</td>
        <td class='hour'>8时</td>
        <td class='hour'>9时</td>
        <td class='hour'>10时</td>
        <td class='hour'>11时</td>
        <td class='hour'>12时</td>
      </tr>
      <tr class='share-datas'>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
      </tr>
      <tr class='time-hour2'>
        <td class='hour'>13时</td>
        <td class='hour'>14时</td>
        <td class='hour'>15时</td>
        <td class='hour'>16时</td>
        <td class='hour'>17时</td>
        <td class='hour'>18时</td>
        <td class='hour'>19时</td>
        <td class='hour'>20时</td>
        <td class='hour'>21时</td>
        <td class='hour'>22时</td>
        <td class='hour'>23时</td>
        <td class='hour'>24时</td>
      </tr>
      <tr class='share-datas'>
        <td rowspan='1' class='remaining'>当日待分配量：<span>0</span></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
        <td class='hour-data'></td>
      </tr>
      {{/each}}
      {{/if}}
    </tbody>
</script>

</html>